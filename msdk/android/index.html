<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android SDK | SumSub Developer Hub</title>
    <meta name="description" content=" ">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#5bbad5">
  <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.54799ece.css" as="style"><link rel="preload" href="/assets/js/app.9a78f231.js" as="script"><link rel="preload" href="/assets/js/2.c4a8d848.js" as="script"><link rel="preload" href="/assets/js/4.2c59221e.js" as="script"><link rel="preload" href="/assets/js/15.9d639127.js" as="script"><link rel="prefetch" href="/assets/js/10.3efffe1c.js"><link rel="prefetch" href="/assets/js/11.0d50de66.js"><link rel="prefetch" href="/assets/js/12.ec04d6b4.js"><link rel="prefetch" href="/assets/js/13.4bb711a6.js"><link rel="prefetch" href="/assets/js/14.17d9b699.js"><link rel="prefetch" href="/assets/js/16.8b9a58c7.js"><link rel="prefetch" href="/assets/js/17.5a2b4ee8.js"><link rel="prefetch" href="/assets/js/18.0ccad716.js"><link rel="prefetch" href="/assets/js/19.d8a7f444.js"><link rel="prefetch" href="/assets/js/20.b22db2b2.js"><link rel="prefetch" href="/assets/js/21.14c70199.js"><link rel="prefetch" href="/assets/js/22.25e6d722.js"><link rel="prefetch" href="/assets/js/23.95605ded.js"><link rel="prefetch" href="/assets/js/24.2d781cf3.js"><link rel="prefetch" href="/assets/js/25.36f7d171.js"><link rel="prefetch" href="/assets/js/26.d061fbfe.js"><link rel="prefetch" href="/assets/js/27.3f715339.js"><link rel="prefetch" href="/assets/js/28.f15e7834.js"><link rel="prefetch" href="/assets/js/29.e5372fb5.js"><link rel="prefetch" href="/assets/js/3.21122894.js"><link rel="prefetch" href="/assets/js/30.102d7a48.js"><link rel="prefetch" href="/assets/js/31.9f173e7b.js"><link rel="prefetch" href="/assets/js/32.705b5dfe.js"><link rel="prefetch" href="/assets/js/33.49af7de1.js"><link rel="prefetch" href="/assets/js/34.7c79b46f.js"><link rel="prefetch" href="/assets/js/35.ce0ae0cd.js"><link rel="prefetch" href="/assets/js/36.0cc75213.js"><link rel="prefetch" href="/assets/js/5.c7b6f417.js"><link rel="prefetch" href="/assets/js/6.765239a6.js"><link rel="prefetch" href="/assets/js/7.3be30eef.js"><link rel="prefetch" href="/assets/js/8.dfa6f911.js"><link rel="prefetch" href="/assets/js/9.62b43e38.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54799ece.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SumSub Developer Hub</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-sdk/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/questionnaire.html" class="nav-link">Questionnaire</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/reusable-kyc.html" class="nav-link">Reusable KYC</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/eSign.html" class="nav-link">eSign</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mobile SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/msdk/" class="nav-link router-link-active">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/msdk/android/" class="nav-link router-link-exact-active router-link-active">Android SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/ios/" class="nav-link">iOS SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/plugins/" class="nav-link">Frameworks Plugins</a></li></ul></div></div><div class="nav-item"><a href="/api-flow/" class="nav-link">API Integration Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-reference/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/payment-methods/" class="nav-link">Payment methods</a></li><li class="dropdown-item"><!----> <a href="/applicant-actions/" class="nav-link">Applicant actions</a></li><li class="dropdown-item"><!----> <a href="/kyb/" class="nav-link">KYB</a></li></ul></div></div><div class="nav-item"><a href="/faq/" class="nav-link">FAQ</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-sdk/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/questionnaire.html" class="nav-link">Questionnaire</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/reusable-kyc.html" class="nav-link">Reusable KYC</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/eSign.html" class="nav-link">eSign</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mobile SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/msdk/" class="nav-link router-link-active">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/msdk/android/" class="nav-link router-link-exact-active router-link-active">Android SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/ios/" class="nav-link">iOS SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/plugins/" class="nav-link">Frameworks Plugins</a></li></ul></div></div><div class="nav-item"><a href="/api-flow/" class="nav-link">API Integration Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-reference/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/payment-methods/" class="nav-link">Payment methods</a></li><li class="dropdown-item"><!----> <a href="/applicant-actions/" class="nav-link">Applicant actions</a></li><li class="dropdown-item"><!----> <a href="/kyb/" class="nav-link">KYB</a></li></ul></div></div><div class="nav-item"><a href="/faq/" class="nav-link">FAQ</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Android SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/msdk/android/#getting-started" class="sidebar-link">Getting started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#resources" class="sidebar-link">Resources</a></li></ul></li><li><a href="/msdk/android/#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#basic-usage" class="sidebar-link">Basic Usage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#initialization" class="sidebar-link">Initialization</a></li></ul></li><li><a href="/msdk/android/#handlers" class="sidebar-link">Handlers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#token-expiration-handler" class="sidebar-link">Token Expiration Handler</a></li></ul></li><li><a href="/msdk/android/#callbacks" class="sidebar-link">Callbacks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-state-changes" class="sidebar-link">On SDK State changes</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-errors" class="sidebar-link">On SDK Errors</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-completion" class="sidebar-link">On SDK completion</a></li></ul></li><li><a href="/msdk/android/#debugging" class="sidebar-link">Debugging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#logs" class="sidebar-link">Logs</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#custom-logger" class="sidebar-link">Custom Logger</a></li></ul></li><li><a href="/msdk/android/#customization" class="sidebar-link">Customization</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#localization" class="sidebar-link">Localization</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android-sdk"><a href="#android-sdk" class="header-anchor">#</a> Android SDK</h1> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>Latest release: <strong>Version 1.11.2</strong> (<a href="/msdk/android/changelog.html">Changelog</a>)</p> <h3 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h3> <ul><li>AndroidX</li> <li>API level 19 (Android 4.4) and above (<a href="https://developer.android.com/about/dashboards/index.html" target="_blank" rel="noopener noreferrer">distribution stats<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li></ul> <h3 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h3> <ul><li>Integration Sample: <a href="https://github.com/SumSubstance/idensic-mobile-sdk-sample-android" target="_blank" rel="noopener noreferrer">idensic-mobile-sdk-sample-android<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <div class="tip custom-block"><p>It's always a good idea to be using the latest version</p></div> <p>Add the SumSub maven repository to the repositories section in your <code>build.gradle</code> file:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>repositories <span class="token punctuation">{</span>
  maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;https://maven.sumsub.com/repository/maven-public/&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Add the following dependencies to your <code>build.gradle</code> file:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    <span class="token comment">// SumSub core</span>
    implementation <span class="token string gstring">&quot;com.sumsub.sns:idensic-mobile-sdk:<span class="token expression"><span class="token punctuation">$</span>latestVersion</span>&quot;</span>

    <span class="token comment">// optional</span>
    <span class="token comment">// if you want to use Liveness3D module</span>
    implementation <span class="token string gstring">&quot;com.sumsub.sns:idensic-mobile-sdk-liveness3d:<span class="token expression"><span class="token punctuation">$</span>latestVersion</span>&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="basic-usage"><a href="#basic-usage" class="header-anchor">#</a> Basic Usage</h2> <div class="warning custom-block"><p>Make sure you completed the <a href="/msdk/#backend-routines">Backend routines</a> before initializing the SDK</p></div> <h3 id="initialization"><a href="#initialization" class="header-anchor">#</a> Initialization</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">// NOTE: make sure to change to 'https://api.sumsub.com' when going live</span>
<span class="token keyword">val</span> apiUrl <span class="token operator">=</span> <span class="token string">&quot;https://test-api.sumsub.com&quot;</span>

<span class="token comment">// use the 'accessToken' that you generated on your backend</span>
<span class="token keyword">val</span> accessToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span>
<span class="token keyword">val</span> flowName <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span>
<span class="token keyword">val</span> modules <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">SNSLiveness3d</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">val</span> tokenExpirationHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> TokenExpirationHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onTokenExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> newToken <span class="token operator">=</span> <span class="token operator">..</span><span class="token operator">..</span>
        <span class="token keyword">return</span> newToken
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdk <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">,</span> flowName<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">withAccessToken</span><span class="token punctuation">(</span>accessToken<span class="token punctuation">,</span> onTokenExpiration <span class="token operator">=</span> tokenExpirationHandler<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">withModules</span><span class="token punctuation">(</span>modules<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

snsSdk<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p>If you don't intend to use the liveness module just make sure that the <code>modules</code> are set as an empty list</p></div> <h2 id="handlers"><a href="#handlers" class="header-anchor">#</a> Handlers</h2> <h3 id="token-expiration-handler"><a href="#token-expiration-handler" class="header-anchor">#</a> Token Expiration Handler</h3> <p>Because of the limited lifespan of the <code>accessToken</code>, it's important to handle the situation correctly
when the token expires and needs to be refreshed.
In order to do this provide <code>tokenHandler</code> for the SDK Builder. The handler should make a call to your backend,
obtain a new access token and then pass it back to the SDK by returning its value.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> tokenHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> TokenExpirationHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onTokenExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> newToken <span class="token operator">=</span> <span class="token operator">..</span><span class="token operator">..</span>
        <span class="token keyword">return</span> newToken
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p><code>onTokenExpired</code> is called on a non-UI thread</p></div> <h2 id="callbacks"><a href="#callbacks" class="header-anchor">#</a> Callbacks</h2> <h3 id="on-sdk-state-changes"><a href="#on-sdk-state-changes" class="header-anchor">#</a> On SDK State changes</h3> <p>Use <code>withHandlers(onStateChanged=onSDKStateChangedHandler)</code> in the SDK builder to get notified about changed in the flow of the verification process.
The callback takes two parameters:</p> <ul><li><code>newState</code> is the current SDK State</li> <li><code>prevState</code> is the previous state value</li></ul> <p>The following example lists all the possible states:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKStateChangedHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSSDKState<span class="token punctuation">,</span> SNSSDKState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> newState<span class="token punctuation">,</span> prevState <span class="token operator">-&gt;</span>
    Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onSDKStateChangedHandler: <span class="token interpolation variable">$prevState</span> -&gt; <span class="token interpolation variable">$newState</span>&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">when</span> <span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Ready <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;SDK is ready&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">when</span> <span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>ApplicantNotFound <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>ApplicantMisconfigured <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>InitialLoadingFailed <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span><span class="token string">&quot;Initial loading error&quot;</span><span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>InvalidParameters <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>NetworkError <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>Unauthorized <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span><span class="token string">&quot;Invalid token or a token can't be refreshed by the SDK. Please, check your token expiration handler&quot;</span><span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>Unknown <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Unknown error&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Initial <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;No verification steps are passed yet&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Incomplete <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Some but not all verification steps are passed over&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Pending <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Verification is in pending state&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>FinallyRejected <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been finally rejected&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>TemporarilyDeclined <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been declined temporarily&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Approved <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been approved&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onStateChanged <span class="token operator">=</span> onSDKStateChangedHandler<span class="token punctuation">)</span>
</code></pre></div><h3 id="on-sdk-errors"><a href="#on-sdk-errors" class="header-anchor">#</a> On SDK Errors</h3> <p>Use <code>withHandlers(onError=onSDKErrorHandler)</code> in the SDK builder to know about errors that occur within the SDK.
Refer to the example below to see how:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKErrorHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSException<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> exception <span class="token operator">-&gt;</span>
    Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK throws an exception. Exception: <span class="token interpolation variable">$exception</span>&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">when</span> <span class="token punctuation">(</span>exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Api <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Api exception. <span class="token interpolation"><span class="token delimiter variable">${</span>exception<span class="token punctuation">.</span>description<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Network <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Network exception.&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Unknown <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Unknown exception.&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onError <span class="token operator">=</span> onSDKErrorHandler<span class="token punctuation">)</span>
</code></pre></div><h3 id="on-sdk-completion"><a href="#on-sdk-completion" class="header-anchor">#</a> On SDK completion</h3> <p>An optional callback to get notified when the SDK is closed:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKCompletedHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSCompletionResult<span class="token punctuation">,</span> SNSSDKState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>reason<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
    <span class="token keyword">when</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSCompletionResult<span class="token punctuation">.</span>SuccessTermination <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK finished successfully&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSCompletionResult<span class="token punctuation">.</span>AbnormalTermination <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>reason<span class="token punctuation">.</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;The SDK got closed because of errors&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onCompleted <span class="token operator">=</span> onSDKCompletedHandler<span class="token punctuation">)</span>
</code></pre></div><p>The callback takes two parameters:</p> <ul><li><code>reason</code>:
<ul><li><code>SNSCompletionResult.SuccessTermination</code> -  A user clicks on the cancel button.</li> <li><code>SNSCompletionResult.AbnormalTermination</code> - an error occurred. Look at the <code>exception</code> object if you want to get more information</li></ul></li> <li><code>state</code>: The state at which the SDK was closed. For possible states refer to the following <a href="#on-sdk-state-changes">Section</a></li></ul> <h2 id="debugging"><a href="#debugging" class="header-anchor">#</a> Debugging</h2> <h3 id="logs"><a href="#logs" class="header-anchor">#</a> Logs</h3> <p>If you want to see the logs within the SDK, please, use the following code:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">// default is 'false'</span>
<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDebug</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p>Don't forget to disable the flag for the release build.</p></div> <h3 id="custom-logger"><a href="#custom-logger" class="header-anchor">#</a> Custom Logger</h3> <p>By default the SDK uses <code>Timber</code> for logging purposes. If, for some reason, it doesn't work or you want to implement your own tree for Timber,
you should extend from <code>SNSLogTree</code> and implement the <code>log</code> function, for example:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> CustomTree<span class="token operator">:</span> <span class="token function">SNSLogTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">log</span><span class="token punctuation">(</span>priority<span class="token operator">:</span> Int<span class="token punctuation">,</span> tag<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> t<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>priority<span class="token punctuation">,</span> tag<span class="token punctuation">,</span> message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Right now you can use your custom log tree:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withLogTree</span><span class="token punctuation">(</span><span class="token function">CustomTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="customization"><a href="#customization" class="header-anchor">#</a> Customization</h2> <p>The SDK can be <a href="/msdk/android/customization.html">customized</a>: you can change styles, colors, typefaces, etc.</p> <h2 id="localization"><a href="#localization" class="header-anchor">#</a> Localization</h2> <p>You can customize or localize the texts used within the SDK through the <a href="https://test-api.sumsub.com/checkus#/sdkIntegrations/globalSettings/msdkI18n" target="_blank" rel="noopener noreferrer">MSDK Translations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> tool in the dashboard.</p> <div class="tip custom-block"><p>For more information refer to the <a href="https://developer.android.com/guide/topics/resources/localization" target="_blank" rel="noopener noreferrer">official documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/16/2020, 4:11:11 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9a78f231.js" defer></script><script src="/assets/js/2.c4a8d848.js" defer></script><script src="/assets/js/4.2c59221e.js" defer></script><script src="/assets/js/15.9d639127.js" defer></script>
  </body>
</html>
