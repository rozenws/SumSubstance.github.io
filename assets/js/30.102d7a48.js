(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{263:function(t,e,a){"use strict";a.r(e);var s=a(16),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"websdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websdk"}},[t._v("#")]),t._v(" WebSDK")]),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("The easiest way to start with our solution is to use our WebSDK. We put lots of efforts to improve conversion of your users and we\nthought about little details that make a difference. You will love WebSDK because:")]),t._v(" "),a("ul",[a("li",[t._v("It is highly "),a("strong",[t._v("customizable")]),t._v(" (choose any steps you want, change styles or copy)")]),t._v(" "),a("li",[t._v("Feature a "),a("strong",[t._v("face liveness")]),t._v(" module that improves conversion and minimizes fraud")]),t._v(" "),a("li",[t._v("Adaptive design and "),a("strong",[t._v("mobile")]),t._v(" friendly")]),t._v(" "),a("li",[t._v("Gives "),a("strong",[t._v("hints")]),t._v(" to users about how to better pass the flow")]),t._v(" "),a("li",[t._v("Ability to continue on "),a("strong",[t._v("mobile")])]),t._v(" "),a("li",[t._v("Automatically "),a("strong",[t._v("refreshes")]),t._v(" when status is changed")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/websdk-selfie.png",alt:"WebSDK Screen"}})]),t._v(" "),a("h2",{attrs:{id:"integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#integration"}},[t._v("#")]),t._v(" Integration")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("We used to have a more complicated way of initializing. If you just started the integration and cannot migrate to the new way, please, contact us - the old way is still supported.")])]),t._v(" "),a("h3",{attrs:{id:"steps-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#steps-overview"}},[t._v("#")]),t._v(" Steps overview")]),t._v(" "),a("p",[t._v("Here are 3 simple steps that you should do:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Step 1: [Dashboard]")]),t._v(" Set up your "),a("a",{attrs:{href:"https://test-api.sumsub.com/checkus#/sdkIntegrations/flows",target:"_blank",rel:"noopener noreferrer"}},[t._v("applicant flow"),a("OutboundLink")],1),t._v(" or pick a predefined one (e.g. "),a("code",[t._v("basic-kyc")]),t._v(")")]),t._v(" "),a("li",[a("strong",[t._v("Step 2: [Backend]")]),t._v(" Generate an "),a("router-link",{attrs:{to:"/web-sdk/#generating-an-access-token"}},[t._v("Access token")]),t._v(" to pass it later on to the WebSDK")],1),t._v(" "),a("li",[a("strong",[t._v("Step 3: [Frontend]")]),t._v(" "),a("router-link",{attrs:{to:"/web-sdk/#frontend-integration"}},[t._v("Install")]),t._v(" an NPM package and launch it with the flow you picked on the first step")],1)]),t._v(" "),a("h3",{attrs:{id:"generating-an-access-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generating-an-access-token"}},[t._v("#")]),t._v(" Generating an access token")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("All API requests must be authenticated as described in "),a("router-link",{attrs:{to:"/api-reference/#access-tokens-for-sdks"}},[t._v("this section")]),t._v(".")],1)]),t._v(" "),a("p",[t._v("To initialize a WebSDK you must "),a("router-link",{attrs:{to:"/api-reference/#access-tokens-for-sdks"}},[t._v("generate")]),t._v(" a temporary "),a("strong",[t._v("access token")]),t._v(", which is also passed to the WebSDK initialization. "),a("strong",[t._v("This action must be performed on the server side")]),t._v(".\nYou also have to provide a "),a("code",[t._v("userId")]),t._v(" query parameter, that is "),a("strong",[t._v("unique")]),t._v(" and meaningful. It can be an external user ID in your system, or an email address. Do not randomly generate these IDs, unless you do testing.")],1),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("If you reuse access tokens make sure to set up an access token expiration handler (see the "),a("b",[t._v("Frontend integration")]),t._v(" section)")])]),t._v(" "),a("h3",{attrs:{id:"frontend-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontend-integration"}},[t._v("#")]),t._v(" Frontend integration")]),t._v(" "),a("h4",{attrs:{id:"_1a-install-the-package-npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1a-install-the-package-npm"}},[t._v("#")]),t._v(" 1a) Install the package - NPM")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i @sumsub/websdk --save\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @sumsub/websdk\n")])])]),a("p",[t._v("Import the module")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" snsWebSdk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@sumsub/websdk'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"_1b-install-the-package-standalone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1b-install-the-package-standalone"}},[t._v("#")]),t._v(" 1b) Install the package - Standalone")]),t._v(" "),a("CodeBlock",[a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://static.sumsub.com/idensic/static/sns-websdk-builder.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("h4",{attrs:{id:"_2-create-a-container-for-the-websdk-on-your-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-create-a-container-for-the-websdk-on-your-page"}},[t._v("#")]),t._v(" 2) Create a container for the WebSDK on your page")]),t._v(" "),a("CodeBlock",[a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- iframe will be inserted as a child element --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sumsub-websdk-container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-initialize-a-websdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-initialize-a-websdk"}},[t._v("#")]),t._v(" 3) Initialize a WebSDK")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param apiUrl - 'https://test-api.sumsub.com' (sandbox)\n                    or 'https://api.sumsub.com' (production)\n * @param flowName - the flow name chosen at Step 1 (e.g. 'basic-kyc')\n * @param accessToken - access token that you generated on the backend in Step 2\n * @param applicantEmail - applicant email\n * @param applicantPhone - applicant phone, if available\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("launchWebSdk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("apiUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" flowName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" applicantEmail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" applicantPhone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" snsWebSdkInstance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" snsWebSdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Builder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("apiUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" flowName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withAccessToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newAccessTokenCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Access token expired")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get a new one and pass it to the callback to re-initiate the WebSDK")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newAccessToken "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get a new token from your backend")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newAccessTokenCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newAccessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withConf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'en'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" applicantEmail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            phone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" applicantPhone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// see below what kind of messages the WebSDK generates")]),t._v("\n                console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WebSDK onMessage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onError")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WebSDK onError'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you are ready to go:")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// just launch the WebSDK by providing the container element for it")]),t._v("\n    snsWebSdkInstance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("launch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#sumsub-websdk-container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),a("h2",{attrs:{id:"websdk-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websdk-messages"}},[t._v("#")]),t._v(" WebSDK messages")]),t._v(" "),a("p",[t._v("When providing the "),a("code",[t._v("onMessage")]),t._v(" handler you will receive messages from the WebSDK (all of them are prefixed with "),a("code",[t._v("idCheck.")]),t._v("):")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("You can see all of those messages in your Browser dev console if you are launching the WebSDK from our dashboard.")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("messageType")]),t._v(" "),a("th",[t._v("Payload")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("onReady")]),t._v(" "),a("td",[a("pre",[t._v("// id of the iframe in the current context "),a("br"),t._v("{}")])]),t._v(" "),a("td",[t._v("WebSDK resources have been loaded")])]),t._v(" "),a("tr",[a("td",[t._v("onInitialized")]),t._v(" "),a("td",[a("pre",[t._v("{}")])]),t._v(" "),a("td",[t._v("The first screen is rendered")])]),t._v(" "),a("tr",[a("td",[t._v("onStepInitiated")]),t._v(" "),a("td",[a("pre",[t._v("{"),a("br"),t._v('  "idDocSetType": "$idDocSetType",'),a("br"),t._v('  "types": ["$idDocType1", "$idDocType2"] '),a("br"),t._v("  }")])]),t._v(" "),a("td",[t._v("A screen with that corresponds to '$idDocSetType' was shown")])]),t._v(" "),a("tr",[a("td",[t._v("stepCompleted")]),t._v(" "),a("td",[a("pre",[t._v('{"step": "$idDocSetType"}')])]),t._v(" "),a("td",[t._v("Step '$idDocSetType' has been completed")])]),t._v(" "),a("tr",[a("td",[t._v("onApplicantLoaded")]),t._v(" "),a("td",[a("pre",[t._v('{"applicantId": "$id"}')])]),t._v(" "),a("td",[t._v("Applicant with id $id has been loaded")])]),t._v(" "),a("tr",[a("td",[t._v("onApplicantSubmitted")]),t._v(" "),a("td",[a("pre",[t._v("{}")])]),t._v(" "),a("td",[t._v("Documents were submitted for verification")])]),t._v(" "),a("tr",[a("td",[t._v("onApplicantResubmitted")]),t._v(" "),a("td",[a("pre",[t._v("{}")])]),t._v(" "),a("td",[t._v("Documents were re-submitted for verification")])]),t._v(" "),a("tr",[a("td",[t._v("onActionSubmitted")]),t._v(" "),a("td",[a("pre",[t._v("{}")])]),t._v(" "),a("td",[t._v("Applicant action was submitted")])]),t._v(" "),a("tr",[a("td",[t._v("actionCompleted")]),t._v(" "),a("td",[a("pre",[t._v("{"),a("br"),t._v('  "applicantActionId": "$id"'),a("br"),t._v("}")])]),t._v(" "),a("td",[t._v("Applicant action $id was completed")])])])]),t._v(" "),a("h2",{attrs:{id:"receiving-verification-results"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#receiving-verification-results"}},[t._v("#")]),t._v(" Receiving verification results")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("On the test environment, checks "),a("b",[t._v("will not")]),t._v(" be started automatically and therefore\nthe webhooks "),a("b",[t._v("will not")]),t._v(" be sent automatically either. Either ask us to do so manually,\nor trigger a webhook yourself by calling an API endpoint described\n"),a("router-link",{attrs:{to:"/api-reference/#testing-on-the-test-environment"}},[t._v("here")]),t._v(".\nOnce integration is done and you have moved to the production environment,\nthe webhooks will be sent automatically once the verification procedure has been completed.")],1)]),t._v(" "),a("p",[t._v("Your backend receives results via a web-hook mechanism. You can get the results via email, Slack or Telegram. But for production use we recommend setting up a web-hook endpoint\nthat we would call when necessary:")]),t._v(" "),a("ul",[a("li",[t._v("We need a "),a("strong",[t._v("webhook URL")]),t._v(" from you to send your results to. You can set up webhooks in developer's space at "),a("a",{attrs:{href:"https://test-api.sumsub.com/checkus#/devSpace/webhooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("test"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/devSpace/webhooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("production"),a("OutboundLink")],1),t._v(" environments.")]),t._v(" "),a("li",[t._v("We may send several types of webhooks, but the one that is of interest to you is the one described in the "),a("router-link",{attrs:{to:"/api-reference/#getting-verification-results"}},[t._v('"Getting verification results"')]),t._v(" section. We encourage you to carefully get accustomed to this section, since there are quite a few options for what the results may look like.")],1),t._v(" "),a("li",[t._v("If you want to manually check the applicant status you can always do it by "),a("router-link",{attrs:{to:"/api-reference/#getting-applicant-status-sdk"}},[t._v("this method")]),t._v(".\nHowever, we don't recommend using polling as base method for getting verification results and rather strongly encourage the webhook mechanism.\nIf for some reason you missed the webhooks, don't worry: we make a note of everything that was attempted to be sent, and can resend failed webhooks at any point in time. If webhook request fails we attempt to resend it four times: after 5 minutes, 1 hour, 5 and 18 hours until request succeeds. Check "),a("code",[t._v("createdAt")]),t._v(" field of webhook payload to make sure that you're getting relevant applicant status.")],1),t._v(" "),a("li",[t._v("Also you can monitor webhook statuses and resend them manually on the "),a("code",[t._v("API Health")]),t._v(" page of dashboard on "),a("a",{attrs:{href:"https://test-api.sumsub.com/checkus#/devSpace/apiHealth/webhooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("test"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/devSpace/apiHealth/webhooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("production"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v('Please note that we may send several final webhooks, so be prepared to change the user\'s status on your side too. A typical example is when a user got approved, but later on he was detected as a fraudster, and therefore we block him with a second "RED" webhook.')])]),t._v(" "),a("h2",{attrs:{id:"getting-the-production-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-the-production-key"}},[t._v("#")]),t._v(" Getting the production key")]),t._v(" "),a("h3",{attrs:{id:"how-can-we-get-the-production-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-can-we-get-the-production-key"}},[t._v("#")]),t._v(" How can we get the production key?")]),t._v(" "),a("p",[t._v("In order to ensure the best experience for you and your users, before giving you access to the production environment, we would like to test the flow and pass the verification as your end-user.\nTo do so, we would kindly ask you to provide us with a link to your server.")]),t._v(" "),a("p",[t._v("Ensure that:")]),t._v(" "),a("ul",[a("li",[t._v("Integration on the test environment is completed, works and meets your requirements")]),t._v(" "),a("li",[t._v("There are no dev console errors or warnings")]),t._v(" "),a("li",[t._v("You saved our applicantIds to your database and matched your users")]),t._v(" "),a("li",[t._v("You received and successfully processed test webhooks from our side")]),t._v(" "),a("li",[t._v("You know how to correlate results received in the webhook payload with your users")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v('Please note that we may send several final webhooks, so be prepared to change the user\'s status on your side too. A typical example is when a user got approved, but later on he was detected as a fraudster, and therefore we block him with a second "RED" webhook.')])]),t._v(" "),a("h3",{attrs:{id:"what-information-should-be-provided-to-obtain-a-production-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-information-should-be-provided-to-obtain-a-production-key"}},[t._v("#")]),t._v(" What information should be provided to obtain a production key?")]),t._v(" "),a("p",[t._v("Please provide us with:")]),t._v(" "),a("ul",[a("li",[t._v("An email where we can send the production credentials")]),t._v(" "),a("li",[t._v("A webhook URL for the production environment (you can set them up by yourself "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/devSpace/webhooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(")")]),t._v(" "),a("li",[t._v("Set up a list of countries to be excluded (Example: "),a("code",[t._v("USA, RUS, IRL")]),t._v(") and the age threshold for your users "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/sdkIntegrations/globalSettings/regulations",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("The age threshold for your users")])]),t._v(" "),a("h2",{attrs:{id:"customization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization"}},[t._v("#")]),t._v(" Customization")]),t._v(" "),a("p",[t._v("All the customization is done from our "),a("a",{attrs:{href:"https://test-api.sumsub.com/checkus#/sdkIntegrations/flows",target:"_blank",rel:"noopener noreferrer"}},[t._v("dashboard"),a("OutboundLink")],1),t._v(". You can customize texts, styles, navigation, etc.\nSee hints and guides in the dashboard for more details.")]),t._v(" "),a("h2",{attrs:{id:"twilio-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#twilio-integration"}},[t._v("#")]),t._v(" Twilio integration")]),t._v(" "),a("p",[t._v("If you want to allow your users to send verification links via SMS to their mobile devices,\nyou have to set it up at dashboard on "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/devSpace/integrations/twilio",target:"_blank",rel:"noopener noreferrer"}},[t._v("production"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/devSpace/integrations/twilio",target:"_blank",rel:"noopener noreferrer"}},[t._v("test"),a("OutboundLink")],1),t._v(" and make sure that target regions are enabled in your twilio account "),a("a",{attrs:{href:"https://www.twilio.com/console/sms/settings/geo-permissions",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),a("h3",{attrs:{id:"how-can-we-get-the-applicantid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-can-we-get-the-applicantid"}},[t._v("#")]),t._v(" How can we get the "),a("code",[t._v("applicantId")]),t._v("?")]),t._v(" "),a("p",[t._v("Two ways:")]),t._v(" "),a("ul",[a("li",[t._v("When a user completes a first page an applicant is created. At this moment we send webhook to your endpoint with type "),a("code",[t._v("applicantCreated")]),t._v(". Its payload will contain the "),a("code",[t._v("applicantId")])]),t._v(" "),a("li",[a("strong",[t._v("GET")]),t._v(" "),a("code",[t._v("/resources/applicants/-;externalUserId=${externalUserId}/one")])])]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("This endpoint will throw a "),a("code",[t._v("404")]),t._v(" if no applicant exists with such a user id.")])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);